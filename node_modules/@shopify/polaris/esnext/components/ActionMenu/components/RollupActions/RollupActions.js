import * as React from 'react';
import { HorizontalDotsMinor } from '@shopify/polaris-icons';
import { withAppProvider } from '../../../AppProvider';
import ActionList from '../../../ActionList';
import Button from '../../../Button';
import Popover from '../../../Popover';
import styles from './RollupActions.scss';
class RollupActions extends React.PureComponent {
    constructor() {
        super(...arguments);
        this.state = {
            rollupOpen: false,
        };
        this.handleRollupToggle = () => {
            this.setState(({ rollupOpen }) => ({ rollupOpen: !rollupOpen }));
        };
    }
    render() {
        const { items = [], sections = [], polaris: { intl }, } = this.props;
        const { rollupOpen } = this.state;
        if (items.length === 0 && sections.length === 0) {
            return null;
        }
        const activatorMarkup = (<div className={styles.RollupActivator}>
        <Button plain icon={HorizontalDotsMinor} accessibilityLabel={intl.translate('Polaris.ActionMenu.RollupActions.rollupButton')} onClick={this.handleRollupToggle}/>
      </div>);
        return (<Popover active={rollupOpen} activator={activatorMarkup} preferredAlignment="right" onClose={this.handleRollupToggle}>
        <ActionList items={items} sections={sections} onActionAnyItem={this.handleRollupToggle}/>
      </Popover>);
    }
}
export default withAppProvider()(RollupActions);
